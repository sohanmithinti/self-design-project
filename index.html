<!DOCTYPE html>
<html>
    <head>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src = "//cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js" ></script>
        <script src = "https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>
        <script src = "./rotation.js"></script>
        <script src = "./target.js"></script>
        <script src = "./fishes.js"></script>
        <script src = "./game.js"></script>
    </head>
    <body>
        <a-scene background = "color:#112345" physics = "debug: true">
            <a-entity id="look" look-controls camera position="0 10 20"></a-entity>
            <a-assets timeout = "10000">
                <a-asset-item id = "terrain" src = "./underwater/scene.gltf"></a-asset-item>
                <a-asset-item id = "sub" src = "./submarine/scene.gltf"></a-asset-item>
            </a-assets>
            <a-entity id = "map" gltf-model = "#terrain" position = "0 0 0" 
            scale = "100 100 100" animation = "property: position; to: 0 0 1000; easing: linear; loop: true; dur: 150000"
            terrain-rotation ship-target fishes-collide
            ></a-entity>
            <a-entity id = "submarine" gltf-model = "#sub" position = "0 2 -5" scale = "0.005 0.005 0.005" rotation = "0 0 0" plane-rotation 
            dynamic-body = "mass: 0" collider></a-entity>
            <a-entity id = "header" position = "1 -4 0" >
                <a-entity position = "-28 21 0" 
                text = "value: virtual submarine simulation; align: center; color: yellow; width: 40"></a-entity>
                <a-entity position = "-23.5 19.3 0">
                    <a-entity position = "-1.5 0.07 0" 
                    text = "value: time remaining; align: center; color: yellow; width: 15"></a-entity>
                    <a-entity id = "timer" position = "-9.8 0.3 0"
                    text = "value: 00:00; align: center; color: yellow; width: 30"></a-entity>
                </a-entity>
            </a-entity>
        </a-scene>
    </body>
</html>